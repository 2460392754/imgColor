(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/Ascii"],{3988:function(e,t,n){},8836:function(e,t,n){"use strict";var i=n("3988"),a=n.n(i);a.a},"8a58":function(e,t,n){"use strict";n.r(t);var i=n("d6b0"),a=n("ed62");for(var s in a)"default"!==s&&function(e){n.d(t,e,function(){return a[e]})}(s);n("8836");var o=n("2877"),r=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4f240537",null);t["default"]=r.exports},cd08:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("a34a")),a=o(n("e76b")),s=(o(n("e4b5")),o(n("b18c")));function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,i,a,s,o){try{var r=e[s](o),u=r.value}catch(c){return void n(c)}r.done?t(u):Promise.resolve(u).then(i,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var s=e.apply(t,n);function o(e){r(s,i,a,o,u,"next",e)}function u(e){r(s,i,a,o,u,"throw",e)}o(void 0)})}}var c=function(){return n.e("components/base/BaseNav").then(n.bind(null,"ff31"))},l=function(){return n.e("components/base/BaseUpload").then(n.bind(null,"005b"))},h=function(){return n.e("components/base/BaseLoading").then(n.bind(null,"0545"))},f=function(){return n.e("components/base/BaseModal").then(n.bind(null,"4707"))},d=function(){return n.e("components/base/BaseSteps").then(n.bind(null,"16de"))},m=function(){return n.e("components/base/BaseSelect").then(n.bind(null,"100e"))},p=function(){return n.e("components/base/BaseHelp").then(n.bind(null,"c7ce"))},g=function(){return n.e("components/base/BaseTabs").then(n.bind(null,"a385"))},v={data:function(){return{isShow:!1,TabCur:0,modalName:null,steps:{num:0,list:[{name:"上传"},{name:"确认"},{name:"转换"},{name:"下载"}]},cav:{id:"cavImg",width:0,height:0},img:{before:{path:null,size:null,resolution:{width:null,height:null}},after:{path:null,size:null,scale:1,action:3,resolution:{width:null,height:null}}},select:[1,.9,.8,.7,.6,.5,.4,.3,.2,.1],action:[1,2,3,4,5,6]}},methods:{upload:function(e){var t=e.tempFiles[0],n=t.path,i=t.size;this.img.before.path=n,this.img.before.size=this._sizeFormat(i),this._stepsNext(),this._confirmPage()},_confirmPage:function(){var e=u(i.default.mark(function e(){var t,n,s;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.default.media.img.getInfo(this.img.before.path);case 2:t=e.sent,n=t.width,s=t.height,this.cav.width=n,this.cav.height=s,this.img.before.resolution={width:n,height:s},this.img.after.resolution.width=15*n,this.img.after.resolution.height=15*s;case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),confirmScaleChange:function(e){this.img.after.scale=e,this.img.after.resolution.width=this.cav.width*e*15,this.img.after.resolution.height=this.cav.height*e*15},confirmActionChange:function(e){this.img.after.action=e},confirmCancel:function(){this._stepsReset()},confirmOk:function(){this._transformPage(),this._stepsNext()},_transformPage:function(){var e=u(i.default.mark(function e(){var t,n,o,r,u,c,l;return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isShow=!0,t={cavId:this.cav.id,path:this.img.before.path,cavHtmlTempId:"cavHtml",scale:this.img.after.scale,action:this.img.after.action-1},e.next=4,s.default.ascii(t);case 4:return n=e.sent,o=n.path,r=n.size,n.width,n.height,e.next=11,a.default.file.save(o);case 11:c=e.sent,l=c.savedFilePath,u=l,this.img.after.path=u,this.img.after.size=this._sizeFormat(r),this.isShow=!1;case 17:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),transformCancel:function(){this._stepsReset()},transformOk:function(){this._stepsNext()},_downloadPage:function(){},downloadOk:function(){var e=u(i.default.mark(function e(){return i.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.img.after.path),e.next=3,a.default.media.img.save(this.img.after.path);case 3:console.log("is save success");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),downloadReset:function(){this._stepsReset()},_sizeFormat:function(e){var t=["B","KB","MB"];return e>=1e6?e=parseInt(e/1e6)+t[2]:e>=1e3?e=parseInt(e/1e3)+t[1]:e+=t[0],e},_stepsNext:function(){this.steps.num++},_stepsReset:function(){this.steps.num=0},clickHelp:function(){this.modalName="Modal",console.log(this.modalName)}},components:{BaseNav:c,BaseUpload:l,BaseLoading:h,BaseModal:f,BaseSteps:d,BaseSelect:m,BaseHelp:p,BaseTabs:g}};t.default=v},d6b0:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},ed62:function(e,t,n){"use strict";n.r(t);var i=n("cd08"),a=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,function(){return i[e]})}(s);t["default"]=a.a}},[["ed74","common/runtime","common/vendor"]]]);