(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-Ascii"],{"0523":function(t,e,a){"use strict";var n=a("90f0"),i=a.n(n);i.a},"096a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"base-help"},[a("v-uni-button",{staticClass:"cu-btn help",on:{click:function(e){e=t.$handleEvent(e),t.click(e)}}},[a("v-uni-text",[t._v("?")])],1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"100e":function(t,e,a){"use strict";a.r(e);var n=a("941f"),i=a("a4a3");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("64cd");var r=a("2877"),u=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"618baa79",null);e["default"]=u.exports},"149c":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"ascii"},[a("base-nav",{attrs:{title:"字符图",back:"返回"}}),a("base-steps",{attrs:{numList:t.steps.list,num:t.steps.num}}),a("v-uni-view",{staticClass:"tabs"},[0===t.steps.num?a("v-uni-view",{staticClass:"upload"},[a("base-upload",{attrs:{count:1},on:{upload:function(e){e=t.$handleEvent(e),t.upload(e)}}})],1):t._e(),1===t.steps.num?a("v-uni-view",{staticClass:"confirm"},[a("v-uni-view",[a("v-uni-image",{attrs:{src:t.img.before.path,mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"before"},[a("v-uni-text",[t._v("修改之前的数据")]),a("v-uni-view",[t._v("大小: "+t._s(t.img.before.size))]),a("v-uni-view",[t._v("分辨率: "+t._s(t.img.before.resolution.width)+"x"+t._s(t.img.before.resolution.height))])],1),a("v-uni-view",{staticClass:"after"},[a("v-uni-text",[t._v("修改之后的数据")]),a("v-uni-view",{staticClass:"select"},[a("v-uni-text",[t._v("缩放比例:")]),a("base-select",{staticClass:"self-base-select",attrs:{list:t.select},on:{change:function(e){e=t.$handleEvent(e),t.confirmScaleChange(e)}}})],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-text",[t._v("填充方案:")]),a("base-select",{staticClass:"self-base-select",attrs:{list:t.action,initIndex:t.img.after.action-1},on:{change:function(e){e=t.$handleEvent(e),t.confirmActionChange(e)}}})],1),a("v-uni-view",[t._v("分辨率: "+t._s(t.img.after.resolution.width)+"x"+t._s(t.img.after.resolution.height))])],1)],1),a("v-uni-view",{staticClass:"btns"},[a("v-uni-button",{staticClass:"cu-btn bg-orange shadow",on:{click:function(e){e=t.$handleEvent(e),t.confirmCancel(e)}}},[t._v("取消")]),a("v-uni-button",{staticClass:"cu-btn bg-blue shadow",on:{click:function(e){e=t.$handleEvent(e),t.confirmOk(e)}}},[t._v("下一步")])],1)],1):t._e(),2===t.steps.num?a("v-uni-view",{staticClass:"transform"},[a("v-uni-view",{staticClass:"imgs"},[a("v-uni-image",{attrs:{src:t.img.before.path,mode:"widthFix"}}),a("v-uni-image",{attrs:{src:t.img.after.path,mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",[t._v("缩放比例: "+t._s(t.img.after.scale))]),a("v-uni-view",[t._v("填充方案: "+t._s(t.img.after.action))]),a("v-uni-view",[t._v("大小: "+t._s(t.img.after.size))]),a("v-uni-view",[t._v("分辨率: "+t._s(t.img.after.resolution.width)+"x"+t._s(t.img.after.resolution.height))])],1),a("v-uni-view",{staticClass:"btns"},[a("v-uni-button",{staticClass:"cu-btn bg-orange shadow",on:{click:function(e){e=t.$handleEvent(e),t.transformCancel(e)}}},[t._v("取消")]),a("v-uni-button",{staticClass:"cu-btn bg-blue shadow",on:{click:function(e){e=t.$handleEvent(e),t.transformOk(e)}}},[t._v("下一步")])],1)],1):t._e(),3===t.steps.num?a("v-uni-view",[a("v-uni-button",{staticClass:"cu-btn bg-blue shadow",on:{click:function(e){e=t.$handleEvent(e),t.downloadReset(e)}}},[t._v("重新开始")]),a("v-uni-button",{staticClass:"cu-btn bg-blue shadow",on:{click:function(e){e=t.$handleEvent(e),t.downloadOk(e)}}},[t._v("下载")])],1):t._e()],1),a("base-help",{on:{click:function(e){e=t.$handleEvent(e),t.clickHelp(e)}}}),a("base-modal",{attrs:{modalName:t.modalName},on:{"update:modalName":function(e){e=t.$handleEvent(e),t.modalName=e},"update:modal-name":function(e){e=t.$handleEvent(e),t.modalName=e}}},[a("v-uni-view",{attrs:{slot:"title"},slot:"title"},[t._v("帮助")]),a("v-uni-view",{attrs:{slot:"content"},slot:"content"},[a("v-uni-view",[t._v("123")])],1)],1),a("base-loading",{attrs:{isShow:t.isShow,content:"转换中"}}),a("v-uni-view",{staticClass:"cavHide"},[a("v-uni-canvas",{style:{width:t.cav.width+"px",height:t.cav.height+"px"},attrs:{"canvas-id":t.cav.id,id:t.cav.id}}),a("v-uni-canvas",{style:{width:15*t.cav.width+"px",height:15*t.cav.height+"px"},attrs:{"canvas-id":"cavHtml"}})],1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"16de":function(t,e,a){"use strict";a.r(e);var n=a("bb67"),i=a("a771");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);var r=a("2877"),u=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"a84c8258",null);e["default"]=u.exports},"2e3b":function(t,e,a){"use strict";a.r(e);var n=a("f15d"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},3040:function(t,e,a){var n=a("a30c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("6216fec9",n,!0,{sourceMap:!1,shadowMode:!1})},"3d0e":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".base-select[data-v-618baa79]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.base-select uni-picker[data-v-618baa79]{width:100%;text-align:right;padding-right:20px}",""])},"3e33":function(t,e,a){"use strict";a.r(e);var n=a("85c8"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},4707:function(t,e,a){"use strict";a.r(e);var n=a("fffa"),i=a("3e33");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);var r=a("2877"),u=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"134bbb26",null);e["default"]=u.exports},"4a86":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"@-webkit-keyframes baseHelpAnime-data-v-e52eb65e{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes baseHelpAnime-data-v-e52eb65e{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.base-help .help[data-v-e52eb65e]{border-radius:100%;width:%?60?%;height:%?60?%;background:#f1f14f;color:#cecece;-webkit-animation:2s baseHelpAnime-data-v-e52eb65e infinite;animation:2s baseHelpAnime-data-v-e52eb65e infinite}",""])},"4fbf":function(t,e,a){var n=a("3d0e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("39332c64",n,!0,{sourceMap:!1,shadowMode:!1})},"50be":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{list:{type:Array,default:function(){return["请选择"]}},initIndex:{type:Number,default:0}},data:function(){return{index:this.initIndex}},methods:{change:function(t){var e=t.detail.value;this.index=e,this.$emit("change",this.list[e],e)}}};e.default=n},"64cd":function(t,e,a){"use strict";var n=a("4fbf"),i=a.n(n);i.a},"66ac":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{num:Number,numList:{type:Array,default:function(){return[{name:"开始"},{name:"等待"},{name:"错误"},{name:"完成"}]}}},methods:{numSteps:function(){var t=this.numList.length;this.num=t-1?0:this.num+1}}};e.default=n},"6ddb":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".base-tabs .flex>*[data-v-7be58fb2]{position:absolute;width:100%;left:0}",""])},7176:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={methods:{click:function(){this.$emit("click")}}};e.default=n},"85c8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{modalName:String},methods:{cancel:function(){this.$emit("update:modalName","")}}};e.default=n},"8a58":function(t,e,a){"use strict";a.r(e);var n=a("149c"),i=a("ed62");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("bdc3");var r=a("2877"),u=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"84a761b8",null);e["default"]=u.exports},"90f0":function(t,e,a){var n=a("6ddb");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("ab07d254",n,!0,{sourceMap:!1,shadowMode:!1})},"941f":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"base-select"},[a("v-uni-picker",{attrs:{value:t.index,range:t.list},on:{change:function(e){e=t.$handleEvent(e),t.change(e)}}},[a("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.list[t.index]))])],1),a("v-uni-text",{staticClass:"cuIcon-right lg text-gray"})],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},a30c:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".ascii[data-v-84a761b8]{background:#fff}.ascii .tabs[data-v-84a761b8]{width:80%;margin:auto}.ascii .btns[data-v-84a761b8]{text-align:center;margin:%?50?% 0}.ascii .btns>uni-button[data-v-84a761b8]{margin:0 %?30?%}.ascii .confirm uni-image[data-v-84a761b8]{width:100%;-webkit-box-shadow:0 0 3px 0 #e8e8e8;box-shadow:0 0 3px 0 #e8e8e8}.ascii .confirm .content>uni-view[data-v-84a761b8],.ascii .transform .content>uni-view[data-v-84a761b8]{margin-top:%?40?%}.ascii .content>uni-view>uni-view[data-v-84a761b8]{padding-top:%?14?%}.ascii .content .action[data-v-84a761b8],.ascii .content .select[data-v-84a761b8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.ascii .content .select>.self-base-select[data-v-84a761b8]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.ascii .cavHide[data-v-84a761b8]{\r\n\t/* height: 0;\r\n\toverflow-y: hidden; */position:fixed;z-index:-1;-webkit-transform:translate(-100%,-100%);-ms-transform:translate(-100%,-100%);transform:translate(-100%,-100%)}",""])},a385:function(t,e,a){"use strict";a.r(e);var n=a("f455"),i=a("2e3b");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("0523");var r=a("2877"),u=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"7be58fb2",null);e["default"]=u.exports},a4a3:function(t,e,a){"use strict";a.r(e);var n=a("50be"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},a771:function(t,e,a){"use strict";a.r(e);var n=a("66ac"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},bb67:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"bg-white padding"},[a("v-uni-view",{staticClass:"cu-steps"},t._l(t.numList,function(e,n){return a("v-uni-view",{key:n,class:["cu-item",n>t.num?"":"text-blue"]},[t._v(t._s(e.name)),a("v-uni-text",{staticClass:"num",attrs:{"data-index":n+1}})],1)}),1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},bdc3:function(t,e,a){"use strict";var n=a("3040"),i=a.n(n);i.a},c7ce:function(t,e,a){"use strict";a.r(e);var n=a("096a"),i=a("f6d2");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("ee8e");var r=a("2877"),u=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"e52eb65e",null);e["default"]=u.exports},d3d3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=h(a("a34a")),i=h(a("ff31")),s=h(a("005b")),r=h(a("0545")),u=h(a("4707")),c=h(a("16de")),o=h(a("100e")),l=h(a("c7ce")),f=h(a("a385")),d=h(a("e76b")),v=h(a("b18c"));function h(t){return t&&t.__esModule?t:{default:t}}function m(t,e,a,n,i,s,r){try{var u=t[s](r),c=u.value}catch(o){return void a(o)}u.done?e(c):Promise.resolve(c).then(n,i)}function b(t){return function(){var e=this,a=arguments;return new Promise(function(n,i){var s=t.apply(e,a);function r(t){m(s,n,i,r,u,"next",t)}function u(t){m(s,n,i,r,u,"throw",t)}r(void 0)})}}var p={data:function(){return{isShow:!1,TabCur:0,modalName:null,steps:{num:0,list:[{name:"上传"},{name:"确认"},{name:"转换"},{name:"下载"}]},cav:{id:"cavImg",width:0,height:0},img:{before:{path:null,size:null,resolution:{width:null,height:null}},after:{path:null,size:null,scale:1,action:3,resolution:{width:null,height:null}}},select:[1,.9,.8,.7,.6,.5,.4,.3,.2,.1],action:[1,2,3,4,5,6]}},methods:{upload:function(t){var e=t.tempFiles[0],a=e.path,n=e.size;this.img.before.path=a,this.img.before.size=this._sizeFormat(n),this._stepsNext(),this._confirmPage()},_confirmPage:function(){var t=b(n.default.mark(function t(){var e,a,i;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d.default.media.img.getInfo(this.img.before.path);case 2:e=t.sent,a=e.width,i=e.height,this.cav.width=a,this.cav.height=i,this.img.before.resolution={width:a,height:i},this.img.after.resolution.width=15*a,this.img.after.resolution.height=15*i;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),confirmScaleChange:function(t){this.img.after.scale=t,this.img.after.resolution.width=this.cav.width*t*15,this.img.after.resolution.height=this.cav.height*t*15},confirmActionChange:function(t){this.img.after.action=t},confirmCancel:function(){this._stepsReset()},confirmOk:function(){this._transformPage(),this._stepsNext()},_test:function(){this._isH5()},_isH5:function(){var t=document.querySelector(".ascii #cavImg");console.log(t),console.log(document.querySelector(".ascii canvas")),console.log(d.default.canvas.create(this.cav.id,this))},_isNotH5:function(){var t=this;console.log("is not h5");var e=d.default.canvas.create(this.cav.id,this);e.setFillStyle("red"),e.fillRect(0,0,150,100),e.draw(!1,function(){e.setFillStyle("white"),e.fillText("qweqwe",20,20),e.draw(!0,b(n.default.mark(function e(){var a,i,s;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.cav.id,width:100,height:100,destWidth:100,destHeight:100},e.next=3,d.default.canvas.cavToImg(a);case 3:i=e.sent,s=i.tempFilePath,console.log(s);case 6:case"end":return e.stop()}},e,this)})))})},_transformPage:function(){var t=b(n.default.mark(function t(){var e,a,i,s,r,u;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isShow=!0,e={cavId:this.cav.id,path:this.img.before.path,cavHtmlTempId:"cavHtml",scale:this.img.after.scale,action:this.img.after.action-1},t.next=4,v.default.ascii(e);case 4:return a=t.sent,i=a.path,s=a.size,a.width,a.height,t.next=11,d.default.file.save(i);case 11:r=t.sent,u=r.savedFilePath,this.img.after.path=u,this.img.after.size=this._sizeFormat(s),this.isShow=!1;case 16:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),transformCancel:function(){this._stepsReset()},transformOk:function(){this._stepsNext()},_downloadPage:function(){},downloadOk:function(){var t=b(n.default.mark(function t(){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.img.after.path),t.next=3,d.default.media.img.save(this.img.after.path);case 3:console.log("is save success");case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),downloadReset:function(){this._stepsReset()},_sizeFormat:function(t){var e=["B","KB","MB"];return t>=1e6?t=parseInt(t/1e6)+e[2]:t>=1e3?t=parseInt(t/1e3)+e[1]:t+=e[0],t},_stepsNext:function(){this.steps.num++},_stepsReset:function(){this.steps.num=0},clickHelp:function(){this.modalName="Modal",console.log(this.modalName)}},components:{BaseNav:i.default,BaseUpload:s.default,BaseLoading:r.default,BaseModal:u.default,BaseSteps:c.default,BaseSelect:o.default,BaseHelp:l.default,BaseTabs:f.default}};e.default=p},da2b:function(t,e,a){var n=a("4a86");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("0ad7fde4",n,!0,{sourceMap:!1,shadowMode:!1})},ed62:function(t,e,a){"use strict";a.r(e);var n=a("d3d3"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},ee8e:function(t,e,a){"use strict";var n=a("da2b"),i=a.n(n);i.a},f15d:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{TabCur:0,scrollLeft:0}},methods:{tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1)}}};e.default=n},f455:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"base-tabs"},[a("v-uni-scroll-view",{staticClass:"bg-white nav",attrs:{"scroll-x":""}},[a("v-uni-view",{staticClass:"flex text-center"},[t._t("default")],2)],1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},f6d2:function(t,e,a){"use strict";a.r(e);var n=a("7176"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},fffa:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:["cu-modal","Modal"===t.modalName?"show":""]},[a("v-uni-view",{staticClass:"cu-dialog"},[a("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[a("v-uni-view",{staticClass:"content"},[t._t("title")],2),a("v-uni-view",{staticClass:"action",attrs:{bindtap:"hideModal"}},[a("v-uni-text",{staticClass:"cuIcon-close text-red",on:{click:function(e){e=t.$handleEvent(e),t.cancel(e)}}})],1)],1),a("v-uni-view",{staticClass:"padding-xl"},[t._t("content")],2)],1)],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})}}]);